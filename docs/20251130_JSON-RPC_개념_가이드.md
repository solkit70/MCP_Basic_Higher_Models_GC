# JSON-RPC ê°œë… ì™„ë²½ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025-11-30
**ì‘ì„±ì**: Claude Code (Anthropic)
**ëª©ì **: MCPì˜ ê¸°ë°˜ í”„ë¡œí† ì½œì¸ JSON-RPCì™€ RPC ê°œë…ì„ ì™„ì „íˆ ì´í•´í•˜ê¸°

---

## ëª©ì°¨

1. [RPCë€ ë¬´ì—‡ì¸ê°€?](#1-rpcë€-ë¬´ì—‡ì¸ê°€)
2. [JSON-RPCë€?](#2-json-rpcë€)
3. [MCPì—ì„œì˜ JSON-RPC](#3-mcpì—ì„œì˜-json-rpc)
4. [ì‹¤ì œ í†µì‹  ì˜ˆì‹œ](#4-ì‹¤ì œ-í†µì‹ -ì˜ˆì‹œ)
5. [ë‹¤ë¥¸ í”„ë¡œí† ì½œê³¼ ë¹„êµ](#5-ë‹¤ë¥¸-í”„ë¡œí† ì½œê³¼-ë¹„êµ)

---

## 1. RPCë€ ë¬´ì—‡ì¸ê°€?

### ê¸°ë³¸ ê°œë…

**RPC = Remote Procedure Call = ì›ê²© í”„ë¡œì‹œì € í˜¸ì¶œ**

â†’ **ë‹¤ë¥¸ ì»´í“¨í„°/í”„ë¡œì„¸ìŠ¤ì˜ í•¨ìˆ˜ë¥¼ ë§ˆì¹˜ ë‚´ í•¨ìˆ˜ì²˜ëŸ¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ**

### ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ vs RPC

#### ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ (ë¡œì»¬)

```python
# ê°™ì€ í”„ë¡œê·¸ë¨ ì•ˆì—ì„œ
def add(a, b):
    return a + b

result = add(3, 5)  # ì§ì ‘ í˜¸ì¶œ
print(result)  # 8
```

ì´ê²ƒì€ **ë‚´ ì»´í“¨í„°ì—ì„œ** ë°”ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

#### RPC (ì›ê²© í•¨ìˆ˜ í˜¸ì¶œ)

```python
# ë‹¤ë¥¸ ì»´í“¨í„°/í”„ë¡œì„¸ìŠ¤ì— ìˆëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
result = remote_add(3, 5)  # ì›ê²© í˜¸ì¶œ
print(result)  # 8
```

**ì‹¤ì œ ë™ì‘**:
1. ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ìš”ì²­ ì „ì†¡
2. ë‹¤ë¥¸ ì»´í“¨í„°ê°€ ê³„ì‚°
3. ê²°ê³¼ë¥¼ ë‹¤ì‹œ ë°›ì•„ì˜´

í•˜ì§€ë§Œ **ì‚¬ìš©ìëŠ” ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©**í•©ë‹ˆë‹¤!

---

### ë ˆìŠ¤í† ë‘ ë¹„ìœ 

#### ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ (ë¡œì»¬)
```
ë‹¹ì‹ : ì§ì ‘ ë¶€ì—Œì— ê°€ì„œ ìš”ë¦¬í•¨
      â†“
      ìš”ë¦¬ ì™„ì„±
      â†“
      ë¨¹ìŒ
```

#### RPC (ì›ê²© í˜¸ì¶œ)
```
ë‹¹ì‹ : "í”¼ì 1íŒ ì£¼ì„¸ìš”" (ìš”ì²­)
      â†“ (ì „í™” ë˜ëŠ” ë²¨)
ì£¼ë°©: í”¼ì ë§Œë“¤ê¸° (ì‹¤í–‰)
      â†“
ë‹¹ì‹ : í”¼ì ë°›ìŒ (ì‘ë‹µ)
```

**í•µì‹¬**: ë‹¹ì‹ ì€ ì§ì ‘ ë§Œë“¤ì§€ ì•Šì•„ë„, **ë§ˆì¹˜ ì§ì ‘ ë§Œë“  ê²ƒì²˜ëŸ¼** ê²°ê³¼ë¥¼ ë°›ìŠµë‹ˆë‹¤!

---

### MCPì—ì„œì˜ RPC ì˜ˆì‹œ

```python
# FastAPI ì•± (í´ë¼ì´ì–¸íŠ¸)
result = mcp_client.call_tool("read_file", {"path": "test.txt"})
                    # ğŸ‘† ì´ê²Œ RPC!

# ì‹¤ì œë¡œëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰:
# file_server.pyì˜ read_file í•¨ìˆ˜ê°€ í˜¸ì¶œë¨
```

**ë‚´ë¶€ ë™ì‘**:

```
[FastAPI ì•±]                        [file_server.py]
    |                                    |
    | "read_file í•¨ìˆ˜ í˜¸ì¶œí•´ì¤˜"         |
    | (JSON-RPC ìš”ì²­)                   |
    |----------------------------------->|
    |                                    |
    |                                    | def read_file(path):
    |                                    |     # ì‹¤ì œ ì‹¤í–‰
    |                                    |     return íŒŒì¼ë‚´ìš©
    |                                    |
    | (JSON-RPC ì‘ë‹µ)                   |
    |<-----------------------------------|
    | "ì—¬ê¸° ê²°ê³¼ì•¼"                      |
    |                                    |
result = íŒŒì¼ë‚´ìš©
```

---

### RPCì˜ ì¥ì 

#### 1. íˆ¬ëª…ì„± (Transparency)

```python
# ë¡œì»¬ í•¨ìˆ˜ì²˜ëŸ¼ ë³´ì„
result = read_file("test.txt")

# ì‹¤ì œë¡œëŠ” ì›ê²© í˜¸ì¶œì´ì§€ë§Œ
# ì‚¬ìš©ìëŠ” ì‹ ê²½ ì“¸ í•„ìš” ì—†ìŒ!
```

#### 2. ë¶„ë¦¬ (Separation)

```
[FastAPI ì•±]  â†â†’  [íŒŒì¼ ì„œë²„]
     â†“               â†“
  Python         Python/Node/Go/...

ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„± ê°€ëŠ¥!
```

#### 3. í™•ì¥ì„± (Scalability)

```
[ì•±] â†â†’ [ì„œë²„1: íŒŒì¼]
     â†â†’ [ì„œë²„2: DB]
     â†â†’ [ì„œë²„3: AI]

ì—¬ëŸ¬ ì„œë²„ë¥¼ ë™ì‹œì— ì‚¬ìš©!
```

---

## 2. JSON-RPCë€?

### RPCì˜ ë¬¸ì œì 

RPCë¥¼ í•˜ë ¤ë©´:
1. ì–´ë–¤ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ì§€?
2. ì–´ë–¤ íŒŒë¼ë¯¸í„°ë¥¼?
3. ê²°ê³¼ëŠ” ì–´ë–»ê²Œ ë°›ì„ì§€?

â†’ **í‘œì¤€ í˜•ì‹ì´ í•„ìš”**í•©ë‹ˆë‹¤!

### JSON-RPC = JSON í˜•ì‹ìœ¼ë¡œ í•˜ëŠ” RPC

**JSON-RPC 2.0**ì€ JSONì„ ì‚¬ìš©í•˜ì—¬ ì›ê²© í•¨ìˆ˜ í˜¸ì¶œì„ í‘œì¤€í™”í•œ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

---

### JSON-RPC ë©”ì‹œì§€ í˜•ì‹

#### ìš”ì²­ (Request)

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "read_file",
  "params": {
    "path": "test.txt"
  }
}
```

**í•„ë“œ ì„¤ëª…**:
- `jsonrpc`: í”„ë¡œí† ì½œ ë²„ì „ (í•­ìƒ "2.0")
- `id`: ìš”ì²­ ë²ˆí˜¸ (ì‘ë‹µê³¼ ë§¤ì¹­ìš©, ìˆ«ì ë˜ëŠ” ë¬¸ìì—´)
- `method`: í˜¸ì¶œí•  í•¨ìˆ˜ ì´ë¦„
- `params`: í•¨ìˆ˜ íŒŒë¼ë¯¸í„° (ê°ì²´ ë˜ëŠ” ë°°ì—´)

#### ì„±ê³µ ì‘ë‹µ (Response)

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": "íŒŒì¼ ë‚´ìš©ì´ ì—¬ê¸°ì—..."
}
```

**í•„ë“œ ì„¤ëª…**:
- `jsonrpc`: í”„ë¡œí† ì½œ ë²„ì „
- `id`: ì–´ë–¤ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì¸ì§€
- `result`: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼

#### ì—ëŸ¬ ì‘ë‹µ (Error Response)

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "error": {
    "code": -32600,
    "message": "íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
  }
}
```

**í•„ë“œ ì„¤ëª…**:
- `error.code`: ì—ëŸ¬ ì½”ë“œ (í‘œì¤€ ì½”ë“œ ë˜ëŠ” ì‚¬ìš©ì ì •ì˜)
- `error.message`: ì—ëŸ¬ ë©”ì‹œì§€

---

### í‘œì¤€ ì—ëŸ¬ ì½”ë“œ

| ì½”ë“œ | ì˜ë¯¸ | ì„¤ëª… |
|------|------|------|
| -32700 | Parse error | JSON íŒŒì‹± ì‹¤íŒ¨ |
| -32600 | Invalid Request | ì˜ëª»ëœ ìš”ì²­ í˜•ì‹ |
| -32601 | Method not found | ë©”ì„œë“œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ |
| -32602 | Invalid params | íŒŒë¼ë¯¸í„°ê°€ ì˜ëª»ë¨ |
| -32603 | Internal error | ë‚´ë¶€ ì„œë²„ ì˜¤ë¥˜ |

---

## 3. MCPì—ì„œì˜ JSON-RPC

### MCP í”„ë¡œí† ì½œ êµ¬ì¡°

MCPëŠ” JSON-RPC 2.0ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, íŠ¹ì • ë©”ì„œë“œë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤:

1. **initialize**: ì„œë²„ ì´ˆê¸°í™”
2. **tools/list**: ë„êµ¬ ëª©ë¡ ì¡°íšŒ
3. **tools/call**: ë„êµ¬ ì‹¤í–‰
4. **resources/list**: ë¦¬ì†ŒìŠ¤ ëª©ë¡ ì¡°íšŒ
5. **resources/read**: ë¦¬ì†ŒìŠ¤ ì½ê¸°

---

### 1) initialize ë©”ì„œë“œ

**ìš”ì²­**:
```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2024-11-05",
    "capabilities": {},
    "clientInfo": {
      "name": "FastAPI Client",
      "version": "1.0.0"
    }
  }
}
```

**ì‘ë‹µ**:
```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "protocolVersion": "2024-11-05",
    "capabilities": {},
    "serverInfo": {
      "name": "File Operations Server",
      "version": "1.0.0"
    }
  }
}
```

**ì˜ë¯¸**: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì„œë¡œë¥¼ ì¸ì‹í•˜ê³  ëŠ¥ë ¥ì„ í˜‘ìƒí•©ë‹ˆë‹¤.

---

### 2) tools/list ë©”ì„œë“œ

**ìš”ì²­**:
```json
{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/list",
  "params": {}
}
```

**ì‘ë‹µ**:
```json
{
  "jsonrpc": "2.0",
  "id": 2,
  "result": {
    "tools": [
      {
        "name": "read_file",
        "description": "íŒŒì¼ ë‚´ìš©ì„ ì½ì–´ì„œ ë°˜í™˜í•©ë‹ˆë‹¤",
        "inputSchema": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "ì½ì„ íŒŒì¼ì˜ ê²½ë¡œ"
            }
          },
          "required": ["path"]
        }
      },
      {
        "name": "list_files",
        "description": "ë””ë ‰í† ë¦¬ ë‚´ì˜ íŒŒì¼ê³¼ í´ë” ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤",
        "inputSchema": {
          "type": "object",
          "properties": {
            "directory": {
              "type": "string"
            },
            "pattern": {
              "type": "string",
              "default": "*"
            }
          },
          "required": ["directory"]
        }
      }
    ]
  }
}
```

**ì˜ë¯¸**: ì„œë²„ê°€ ì œê³µí•˜ëŠ” ëª¨ë“  ë„êµ¬ì˜ ëª©ë¡ê³¼ ê° ë„êµ¬ì˜ ì‚¬ìš©ë²•ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### 3) tools/call ë©”ì„œë“œ

**ìš”ì²­**:
```json
{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "read_file",
    "arguments": {
      "path": "C:/temp/test.txt"
    }
  }
}
```

**ì‘ë‹µ**:
```json
{
  "jsonrpc": "2.0",
  "id": 3,
  "result": {
    "content": [
      {
        "type": "text",
        "text": "Hello, World!\nThis is a test file."
      }
    ]
  }
}
```

**ì—ëŸ¬ ì‘ë‹µ (íŒŒì¼ì´ ì—†ì„ ë•Œ)**:
```json
{
  "jsonrpc": "2.0",
  "id": 3,
  "error": {
    "code": -32000,
    "message": "íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: C:/temp/test.txt"
  }
}
```

---

## 4. ì‹¤ì œ í†µì‹  ì˜ˆì‹œ

### stdio transportì—ì„œì˜ JSON-RPC

#### í´ë¼ì´ì–¸íŠ¸ ì¸¡ (Python)

```python
import subprocess
import json

# 1. ì„œë²„ í”„ë¡œì„¸ìŠ¤ ì‹œì‘
proc = subprocess.Popen(
    ["python", "file_server.py"],
    stdin=subprocess.PIPE,
    stdout=subprocess.PIPE,
    text=True
)

# 2. tools/list ìš”ì²­ ì „ì†¡
request = {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/list",
    "params": {}
}
proc.stdin.write(json.dumps(request) + "\n")
proc.stdin.flush()

# 3. ì‘ë‹µ ì½ê¸°
response_line = proc.stdout.readline()
response = json.loads(response_line)

# 4. ê²°ê³¼ ì¶œë ¥
print(response["result"]["tools"])
```

#### ì„œë²„ ì¸¡ (FastMCPê°€ ìë™ ì²˜ë¦¬)

```python
from fastmcp import FastMCP

mcp = FastMCP("File Server")

@mcp.tool()
def read_file(path: str) -> str:
    """íŒŒì¼ ì½ê¸°"""
    with open(path, 'r') as f:
        return f.read()

# FastMCPê°€ ìë™ìœ¼ë¡œ:
# 1. stdinì—ì„œ JSON-RPC ìš”ì²­ ì½ê¸°
# 2. ë©”ì„œë“œì— ë”°ë¼ ì ì ˆí•œ í•¨ìˆ˜ í˜¸ì¶œ
# 3. ê²°ê³¼ë¥¼ JSON-RPC ì‘ë‹µìœ¼ë¡œ ë³€í™˜
# 4. stdoutìœ¼ë¡œ ì‘ë‹µ ì „ì†¡

mcp.run(transport="stdio")
```

---

### ì „ì²´ í†µì‹  íë¦„

```
[í´ë¼ì´ì–¸íŠ¸]
    |
    | 1. JSON-RPC ìš”ì²­ ìƒì„±
    |    {"method": "tools/call", "params": {...}}
    â†“
[stdin íŒŒì´í”„]
    |
    | 2. í…ìŠ¤íŠ¸ë¡œ ì „ì†¡
    |    (í•œ ì¤„ë‹¹ í•˜ë‚˜ì˜ JSON ë©”ì‹œì§€)
    â†“
[ì„œë²„: FastMCP]
    |
    | 3. JSON íŒŒì‹±
    |    method = "tools/call"
    |    params = {"name": "read_file", ...}
    â†“
    | 4. ë„êµ¬ ì‹¤í–‰
    |    result = read_file(path="test.txt")
    â†“
    | 5. JSON-RPC ì‘ë‹µ ìƒì„±
    |    {"result": {"content": [...]}}
    â†“
[stdout íŒŒì´í”„]
    |
    | 6. í…ìŠ¤íŠ¸ë¡œ ì „ì†¡
    â†“
[í´ë¼ì´ì–¸íŠ¸]
    |
    | 7. JSON íŒŒì‹±
    |    result = response["result"]
    â†“
[ì‚¬ìš©ìì—ê²Œ ë°˜í™˜]
```

---

## 5. ë‹¤ë¥¸ í”„ë¡œí† ì½œê³¼ ë¹„êµ

### JSON-RPC vs REST API

| íŠ¹ì§• | JSON-RPC | REST API |
|------|----------|----------|
| **íŒ¨ëŸ¬ë‹¤ì„** | í•¨ìˆ˜ í˜¸ì¶œ ì¤‘ì‹¬ | ìì›(Resource) ì¤‘ì‹¬ |
| **ì—”ë“œí¬ì¸íŠ¸** | ë‹¨ì¼ ì—”ë“œí¬ì¸íŠ¸ | ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ |
| **ë©”ì„œë“œ ì§€ì •** | JSON ë‚´ë¶€ ("method") | HTTP ë©”ì„œë“œ (GET, POST, ...) |
| **ìƒíƒœ ì½”ë“œ** | JSON ë‚´ë¶€ ("error") | HTTP ìƒíƒœ ì½”ë“œ (200, 404, ...) |
| **ì‚¬ìš© ì˜ˆ** | `{"method": "getUser"}` | `GET /users/123` |

#### JSON-RPC ì˜ˆì‹œ

```json
POST / HTTP/1.1

{
  "method": "getUser",
  "params": {"id": 123}
}
```

#### REST API ì˜ˆì‹œ

```
GET /users/123 HTTP/1.1
```

---

### JSON-RPC vs gRPC

| íŠ¹ì§• | JSON-RPC | gRPC |
|------|----------|------|
| **ë°ì´í„° í˜•ì‹** | JSON (í…ìŠ¤íŠ¸) | Protocol Buffers (ë°”ì´ë„ˆë¦¬) |
| **ì‚¬ëŒì´ ì½ê¸°** | ì‰¬ì›€ | ì–´ë ¤ì›€ |
| **ì„±ëŠ¥** | ì¤‘ê°„ | ë¹ ë¦„ |
| **ë³µì¡ë„** | ë‚®ìŒ | ë†’ìŒ |
| **ë””ë²„ê¹…** | ì‰¬ì›€ | ì–´ë ¤ì›€ |

---

### MCPê°€ JSON-RPCë¥¼ ì„ íƒí•œ ì´ìœ 

#### 1. ë‹¨ìˆœí•¨

```json
{
  "method": "read_file",
  "params": {"path": "test.txt"}
}
```

â†’ ë³´ê¸°ë§Œ í•´ë„ ë¬´ìŠ¨ ëœ»ì¸ì§€ ì•Œ ìˆ˜ ìˆìŒ!

#### 2. í˜¸í™˜ì„±

- ëª¨ë“  ì–¸ì–´ê°€ JSONì„ ì§€ì›
- Python, JavaScript, Go, Rust... ë‹¤ ê°€ëŠ¥

#### 3. ë””ë²„ê¹… ìš©ì´

```bash
# í„°ë¯¸ë„ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
echo '{"jsonrpc":"2.0","id":1,"method":"tools/list"}' | python file_server.py
```

#### 4. í…ìŠ¤íŠ¸ ê¸°ë°˜

- ë¡œê·¸ë¥¼ í…ìŠ¤íŠ¸ë¡œ í™•ì¸ ê°€ëŠ¥
- ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·ì„ ì‰½ê²Œ ë¶„ì„
- ê°œë°œ ì¤‘ ë¬¸ì œ íŒŒì•…ì´ ì‰¬ì›€

---

## 6. ì‹¤ì „ ì ìš©

### file_server.pyì—ì„œì˜ JSON-RPC

```python
@mcp.tool()
def read_file(path: str) -> str:
    """íŒŒì¼ ë‚´ìš© ì½ê¸°"""
    with open(path, 'r') as f:
        return f.read()
```

ì´ í•¨ìˆ˜ëŠ” ë‹¤ìŒ JSON-RPC ìš”ì²­ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤:

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/call",
  "params": {
    "name": "read_file",
    "arguments": {
      "path": "C:/temp/test.txt"
    }
  }
}
```

FastMCPê°€ ìë™ìœ¼ë¡œ:
1. ìš”ì²­ì„ íŒŒì‹±
2. `read_file` í•¨ìˆ˜ë¥¼ ì°¾ìŒ
3. `path` íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ì—¬ ì‹¤í–‰
4. ê²°ê³¼ë¥¼ JSON-RPC ì‘ë‹µìœ¼ë¡œ ë³€í™˜

---

### FastAPIì—ì„œì˜ ì‚¬ìš©

```python
# app/routers/mcp.py

@router.post("/mcp/actions/{tool_name}")
async def call_tool(tool_name: str, payload: dict):
    """MCP ë„êµ¬ í˜¸ì¶œ"""
    try:
        # ë‚´ë¶€ì ìœ¼ë¡œ JSON-RPC ìš”ì²­ ìƒì„± ë° ì „ì†¡
        result, latency = mcp_client.call_tool(tool_name, payload)
        return {"result": result, "latency_ms": latency}
    except McpClientError as e:
        raise HTTPException(status_code=500, detail=str(e))
```

ì‚¬ìš©ìê°€ HTTP POSTë¥¼ ë³´ë‚´ë©´:
```bash
POST /mcp/actions/read_file
{
  "path": "C:/temp/test.txt"
}
```

ë‚´ë¶€ì ìœ¼ë¡œ JSON-RPCë¡œ ë³€í™˜:
```json
{
  "jsonrpc": "2.0",
  "method": "tools/call",
  "params": {
    "name": "read_file",
    "arguments": {"path": "C:/temp/test.txt"}
  }
}
```

---

## 7. í•µì‹¬ ì •ë¦¬

### RPC = ì›ê²© í•¨ìˆ˜ í˜¸ì¶œ

```python
# ë³´ê¸°ì—ëŠ” ì´ë ‡ê²Œ ìƒê²¼ì§€ë§Œ
result = read_file("test.txt")

# ì‹¤ì œë¡œëŠ” ì´ëŸ° ì¼ì´ ë²Œì–´ì§
1. JSON-RPC ìš”ì²­ ìƒì„±
2. ë„¤íŠ¸ì›Œí¬/stdioë¡œ ì „ì†¡
3. ì›ê²© ì„œë²„ì—ì„œ ì‹¤í–‰
4. JSON-RPC ì‘ë‹µ ìˆ˜ì‹ 
5. ê²°ê³¼ ë°˜í™˜
```

### JSON-RPC = JSONìœ¼ë¡œ í‘œì¤€í™”ëœ RPC

```json
ìš”ì²­: {"method": "í•¨ìˆ˜ì´ë¦„", "params": {íŒŒë¼ë¯¸í„°}}
ì‘ë‹µ: {"result": ê²°ê³¼} ë˜ëŠ” {"error": ì—ëŸ¬}
```

### MCPì—ì„œì˜ ì—­í• 

```
MCP = Model Context Protocol
JSON-RPCë¥¼ ì‚¬ìš©í•˜ì—¬ ë„êµ¬ë¥¼ ì›ê²©ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” í”„ë¡œí† ì½œ
```

### í†µì‹  íë¦„

```
HTTP ìš”ì²­
    â†“
FastAPI
    â†“
McpClient
    â†“
JSON-RPC ìš”ì²­ (stdin)
    â†“
file_server.py
    â†“
í•¨ìˆ˜ ì‹¤í–‰
    â†“
JSON-RPC ì‘ë‹µ (stdout)
    â†“
McpClient
    â†“
FastAPI
    â†“
HTTP ì‘ë‹µ
```

---

## 8. ì°¸ê³  ìë£Œ

- **JSON-RPC 2.0 ê³µì‹ ìŠ¤í™**: https://www.jsonrpc.org/specification
- **MCP ê³µì‹ ë¬¸ì„œ**: https://modelcontextprotocol.io/
- **ì˜¤ëŠ˜ì˜ êµ¬í˜„**: `05-build-server/file_server.py`

---

## 9. ë‹¤ìŒ í•™ìŠµ

ì´ì œ JSON-RPCë¥¼ ì´í•´í–ˆìœ¼ë‹ˆ:

1. âœ… stdio transport ì´í•´
2. âœ… JSON-RPC í”„ë¡œí† ì½œ ì´í•´
3. âœ… MCPì—ì„œì˜ JSON-RPC í™œìš© ì´í•´
4. ğŸ”œ **Phase 3**: FastAPI ì•±ê³¼ í†µí•©
5. ğŸ”œ HTTP â†’ JSON-RPC ë³€í™˜ íë¦„ í™•ì¸

---

**ì‘ì„± ì™„ë£Œ**: 2025-11-30
**ë‹¤ìŒ ë‹¨ê³„**: Phase 3 - FastAPI í†µí•©
